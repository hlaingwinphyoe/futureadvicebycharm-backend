import{A as E}from"./AuthenticatedLayout-BwqdLtow.js";import{G as g}from"./@inertiajs-BHNbm3Fi.js";import{d as y}from"./lodash.debounce-D6Lq3Ox3.js";import{R as M,S as T,P as U}from"./@element-plus-7OHurGuN.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as j,a as _}from"./element-plus-LrVxQH71.js";import{e as G,w as C,ag as H,ai as o,ar as I,c as f,U as t,M as n,T as v,o as u,a as r,a7 as O,O as W,S as b,R as P,L as Q}from"./@vue-DjPJmJBm.js";import"./darkmode-BEaTfPzm.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-D133QDgo.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-DfGEukKn.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-DHxWKL-w.js";const q={props:["feedback"],components:{AuthenticatedLayout:E,Refresh:M,Filter:T,Delete:U},setup(){const e=G({isLoading:!1,pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:"",type:""},types:[{id:1,name:"All",slug:"all"},{id:2,name:"General Feedback",slug:"feedback"},{id:3,name:"Suggestion",slug:"suggestion"},{id:4,name:"Service Quality",slug:"service"},{id:5,name:"Reading Accuracy",slug:"reading"},{id:6,name:"Website Experience",slug:"website"}]}),l=s=>{e.param.page_size=s,m()},c=s=>{e.param.page=s,m()},p=s=>{j.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{g.delete(route("admin.feedback.destroy",s),{onSuccess:d=>{_.success(d.props.flash.success)},onError:d=>{_.error(d.props.flash.error)}})}).catch(()=>{_({type:"info",message:"Cancel"})})};C(()=>e.param.search,y(()=>{m()},500)),C(()=>e.param.type,y(()=>{m()},500));const m=()=>{e.isLoading=!0,g.get("/admin/feedback",e.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{e.isLoading=!1}})},h=()=>{g.get(route("admin.feedback"))};return{...H(e),handleDelete:p,onSizeChange:l,onCurrentChange:c,reset:h}}},J={class:"p-4 container mx-auto overflow-x-auto"},K={class:"p-4 rounded shadow-sm border index-content"},X={class:"flex items-center justify-end gap-4 xl:gap-0 mt-2 mb-5"},Y={"element-loading-text":"Loading..."},Z={class:"font-semibold"},$={class:"my-5 flex items-center justify-center"};function ee(e,l,c,p,m,h){const s=o("Head"),d=o("el-option"),k=o("el-select"),w=o("el-input"),x=o("Refresh"),S=o("el-icon"),V=o("el-button"),i=o("el-table-column"),z=o("el-rate"),L=o("el-tag"),A=o("el-table"),R=o("el-pagination"),B=o("AuthenticatedLayout"),D=I("loading");return u(),f(v,null,[t(s,{title:"Feedback"}),t(B,null,{default:n(()=>[r("div",J,[l[2]||(l[2]=r("h4",{class:"text-lg font-bold mb-3 ml-1"},"Feedback",-1)),r("div",K,[r("div",X,[r("div",null,[t(k,{modelValue:e.param.type,"onUpdate:modelValue":l[0]||(l[0]=a=>e.param.type=a),placeholder:"Select",filterable:"",style:{width:"240px"}},{default:n(()=>[(u(!0),f(v,null,O(e.types,a=>(u(),Q(d,{key:a.slug,label:a.name,value:a.slug},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(w,{modelValue:e.param.search,"onUpdate:modelValue":l[1]||(l[1]=a=>e.param.search=a),style:{width:"200px"},placeholder:"Search Feedback",class:"ml-3"},null,8,["modelValue"]),t(V,{type:"danger",onClick:p.reset,class:"ml-3"},{default:n(()=>[t(S,null,{default:n(()=>[t(x)]),_:1})]),_:1},8,["onClick"])])]),W((u(),f("div",Y,[t(A,{data:c.feedback.data,"table-layout":"fixed","default-sort":{prop:"id",order:"descending"}},{default:n(()=>[t(i,{prop:"id",label:"ID",sortable:""}),t(i,{label:"Name",sortable:""},{default:n(a=>[r("h5",Z,b(a.row.name),1),r("small",null,b(a.row.email),1)]),_:1}),t(i,{label:"Rating"},{default:n(a=>[t(z,{modelValue:a.row.rating,"onUpdate:modelValue":F=>a.row.rating=F,disabled:"","show-text":"","show-score":"",max:5},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(i,{label:"Type"},{default:n(a=>[t(L,{effect:"plain",type:"info"},{default:n(()=>[P(b(a.row.type),1)]),_:2},1024)]),_:1}),t(i,{prop:"message",label:"Message"}),t(i,{prop:"created_at",label:"Created At",sortable:"",align:"center"})]),_:1},8,["data"]),r("div",$,[t(R,{onSizeChange:p.onSizeChange,onCurrentChange:p.onCurrentChange,"page-size":e.param.page_size,background:!0,"page-sizes":e.pageList,"current-page":e.param.page,layout:"total,sizes,prev,pager,next,jumper",total:c.feedback.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[D,e.isLoading]])])])]),_:1})],64)}const Oe=N(q,[["render",ee]]);export{Oe as default};
