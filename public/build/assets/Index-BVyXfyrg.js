import{A as M}from"./AuthenticatedLayout-BwqdLtow.js";import{G as _}from"./@inertiajs-BHNbm3Fi.js";import{d as j}from"./lodash.debounce-D6Lq3Ox3.js";import J from"./Dialog-CXBtedGj.js";import U from"./RemarkDialog-rtfTwpeK.js";import{B as F,Q as I,R as G,S as H,P as Q,T as W}from"./@element-plus-7OHurGuN.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as S,a as g}from"./element-plus-LrVxQH71.js";import{e as K,w as X,ag as Y,ai as l,ar as Z,c as D,U as e,M as t,T as $,o as b,a as c,O as ee,Q as ae,S as f,R as x}from"./@vue-DjPJmJBm.js";import"./darkmode-BEaTfPzm.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-D133QDgo.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./InputError-DuIKKUKn.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-DfGEukKn.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-DHxWKL-w.js";const te={props:["packages","astrologers","currencies"],components:{AuthenticatedLayout:M,Dialog:J,Plus:F,Edit:I,Refresh:G,Filter:H,Delete:Q,ChatLineRound:W,RemarkDialog:U},setup(){const a=K({showDialog:!1,showRemarkDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},remarkDialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),d=r=>{a.param.page_size=r,s()},p=r=>{a.param.page=r,s()},i=r=>{a.remarkDialog.dialogTitle="Add Remarks",a.remarkDialog.dialogData=JSON.parse(JSON.stringify(r)),a.showRemarkDialog=!0},y=()=>{a.dialog.dialogTitle="Create",a.dialog.dialogData={},a.showDialog=!0},v=r=>{a.dialog.dialogTitle="Edit",a.dialog.dialogData=JSON.parse(JSON.stringify(r)),a.showDialog=!0},h=r=>{S.confirm("Are you sure want to change status of this package?","Confirmation",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{_.patch(route("admin.packages.change-status",r.id),{},{preserveState:!0,onSuccess:n=>{g.success(n.props.flash.success)},onError:n=>{g.error(n.props.flash.error)}})}).catch(()=>{_.reload(),g({type:"info",message:"Cancel"})})},w=r=>{S.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{_.delete(route("admin.packages.destroy",r),{onSuccess:n=>{g.success(n.props.flash.success)},onError:n=>{g.error(n.props.flash.error)}})}).catch(()=>{g({type:"info",message:"Cancel"})})};X(()=>a.param.search,j(()=>{s()},500));const s=()=>{a.isLoading=!0,_.get("/admin/packages",a.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{a.isLoading=!1}})},m=()=>{a.showDialog=!1,a.showRemarkDialog=!1},C=()=>{_.get(route("admin.packages.index"))};return{...Y(a),addNew:y,handleEdit:v,handleDelete:w,onSizeChange:d,onCurrentChange:p,closeDialog:m,reset:C,changeStatus:h,addRemarks:i}}},oe={class:"p-4 container mx-auto overflow-x-auto"},le={class:"p-4 rounded shadow-sm border index-content"},ne={class:"flex items-center justify-between gap-4 xl:gap-0 mt-2 mb-5"},re={class:"flex items-center gap-3"},ie={"element-loading-text":"Loading..."},se=["src","alt"],ce={class:"font-semibold"},de={class:"my-5 flex items-center justify-center"};function me(a,d,p,i,y,v){const h=l("Head"),w=l("Plus"),s=l("el-icon"),m=l("el-button"),C=l("el-input"),r=l("Refresh"),n=l("el-table-column"),R=l("el-tag"),T=l("el-switch"),E=l("ChatLineRound"),k=l("el-tooltip"),L=l("Edit"),z=l("Delete"),N=l("el-table"),A=l("el-pagination"),V=l("Dialog"),B=l("RemarkDialog"),P=l("AuthenticatedLayout"),O=Z("loading");return b(),D($,null,[e(h,{title:"Packages"}),e(P,null,{default:t(()=>[c("div",oe,[d[2]||(d[2]=c("h4",{class:"text-lg font-bold mb-3 ml-1"},"Packages",-1)),c("div",le,[c("div",ne,[c("div",re,[e(m,{type:"primary",onClick:i.addNew},{default:t(()=>[e(s,null,{default:t(()=>[e(w)]),_:1}),d[1]||(d[1]=c("span",null,"New",-1))]),_:1},8,["onClick"])]),c("div",null,[e(C,{modelValue:a.param.search,"onUpdate:modelValue":d[0]||(d[0]=o=>a.param.search=o),style:{width:"200px"},placeholder:"Search Packages"},null,8,["modelValue"]),e(m,{type:"danger",onClick:i.reset,class:"ml-3"},{default:t(()=>[e(s,null,{default:t(()=>[e(r)]),_:1})]),_:1},8,["onClick"])])]),ee((b(),D("div",ie,[e(N,{data:p.packages.data,"table-layout":"fixed","default-sort":{prop:"id",order:"descending"}},{default:t(()=>[e(n,{prop:"id",label:"ID",sortable:""}),e(n,{label:"Image"},{default:t(o=>[o.row.image!=""?(b(),D("img",{key:0,src:o.row.image,class:"h-10 object-cover rounded-md",alt:o.row.name},null,8,se)):ae("",!0)]),_:1}),e(n,{label:"Name",sortable:""},{default:t(o=>[c("h5",ce,f(o.row.name),1)]),_:1}),e(n,{label:"Price"},{default:t(o=>[e(R,{type:"primary",class:"mr-1"},{default:t(()=>[x(f(o.row.price)+" "+f(o.row.currency),1)]),_:2},1024),e(R,{type:"danger"},{default:t(()=>[x(f(o.row.th_price)+" "+f(o.row.th_currency),1)]),_:2},1024)]),_:1}),e(n,{prop:"created_at",label:"Created At",sortable:"",align:"center"}),e(n,{label:"Available",align:"center"},{default:t(o=>[e(T,{modelValue:o.row.disabled,"onUpdate:modelValue":u=>o.row.disabled=u,"active-value":0,"inactive-value":1,onChange:u=>i.changeStatus(o.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(n,{label:"Actions"},{default:t(o=>[e(k,{class:"box-item",content:"Add Remarks",placement:"top"},{default:t(()=>[e(m,{circle:"",style:{"margin-bottom":"5px"},onClick:u=>i.addRemarks(o.row)},{default:t(()=>[e(s,null,{default:t(()=>[e(E)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(k,{class:"box-item",content:"Edit",placement:"top"},{default:t(()=>[e(m,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:u=>i.handleEdit(o.row)},{default:t(()=>[e(s,null,{default:t(()=>[e(L)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(k,{class:"box-item",content:"Delete",placement:"top"},{default:t(()=>[e(m,{type:"danger",circle:"",style:{"margin-bottom":"5px"},onClick:u=>i.handleDelete(o.row.id)},{default:t(()=>[e(s,null,{default:t(()=>[e(z)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),c("div",de,[e(A,{onSizeChange:i.onSizeChange,onCurrentChange:i.onCurrentChange,"page-size":a.param.page_size,background:!0,"page-sizes":a.pageList,"current-page":a.param.page,layout:"total,sizes,prev,pager,next,jumper",total:p.packages.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[O,a.isLoading]])])]),e(V,{show:a.showDialog,onClosed:i.closeDialog,title:a.dialog.dialogTitle,data:a.dialog.dialogData,astrologers:p.astrologers,currencies:p.currencies},null,8,["show","onClosed","title","data","astrologers","currencies"]),e(B,{show:a.showRemarkDialog,onClosed:i.closeDialog,title:a.remarkDialog.dialogTitle,data:a.remarkDialog.dialogData},null,8,["show","onClosed","title","data"])]),_:1})],64)}const oa=q(te,[["render",me]]);export{oa as default};
