import{A as N}from"./AuthenticatedLayout-hpqXZqx5.js";import{G as _}from"./@inertiajs-CbvId4g_.js";import{d as T}from"./lodash.debounce-D6Lq3Ox3.js";import R from"./Dialog-GxlZCdUq.js";import{B as O,Q as P,R as j,S as M,P as U}from"./@element-plus-CUvu2PoV.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as k,a as u}from"./element-plus-DlSipXdM.js";import{e as G,w as H,ag as I,ai as a,ar as J,c as C,V as e,O as o,U as Q,o as w,a as r,P as W,R as q,T as K}from"./@vue-Sbvg1l4F.js";import"./darkmode-D_2icXa1.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-DKV3VX6p.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./InputError-DvMyPukD.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-CCMSPfaE.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-CFmTUPeq.js";const X={props:["banks"],components:{AuthenticatedLayout:N,Dialog:R,Plus:O,Edit:P,Refresh:j,Filter:M,Delete:U},setup(){const t=G({showDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),c=l=>{t.param.page_size=l,g()},f=l=>{t.param.page=l,g()},i=()=>{t.dialog.dialogTitle="Create",t.dialog.dialogData={},t.showDialog=!0},y=l=>{t.dialog.dialogTitle="Edit",t.dialog.dialogData=JSON.parse(JSON.stringify(l)),t.showDialog=!0},v=l=>{k.confirm("Are you sure want to change status of this item?","Confirmation",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{_.patch(route("admin.banks.change-status",l.id),{},{preserveState:!0,onSuccess:s=>{u.success(s.props.flash.success)},onError:s=>{u.error(s.props.flash.error)}})}).catch(()=>{_.reload(),u({type:"info",message:"Cancel"})})},b=l=>{k.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{_.delete(route("admin.banks.destroy",l),{onSuccess:s=>{u.success(s.props.flash.success)},onError:s=>{u.error(s.props.flash.error)}})}).catch(()=>{u({type:"info",message:"Cancel"})})};H(()=>t.param.search,T(()=>{g()},500));const g=()=>{t.isLoading=!0,_.get("/admin/items",t.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{t.isLoading=!1}})},d=()=>{t.showDialog=!1},m=()=>{_.get(route("admin.items.index"))};return{...I(t),addNew:i,handleEdit:y,handleDelete:b,onSizeChange:c,onCurrentChange:f,closeDialog:d,reset:m,changeStatus:v}}},Y={class:"p-4 container mx-auto overflow-x-auto"},Z={class:"p-4 rounded shadow-sm border index-content"},$={class:"flex items-center justify-between gap-4 xl:gap-0 mt-2 mb-5"},ee={class:"flex items-center gap-3"},te={"element-loading-text":"Loading..."},oe=["src","alt"],ae={class:"font-semibold"},ne={class:"my-5 flex items-center justify-center"};function le(t,c,f,i,y,v){const b=a("Head"),g=a("Plus"),d=a("el-icon"),m=a("el-button"),l=a("el-input"),s=a("Refresh"),p=a("el-table-column"),x=a("el-switch"),S=a("Edit"),D=a("el-tooltip"),E=a("Delete"),z=a("el-table"),B=a("el-pagination"),V=a("Dialog"),A=a("AuthenticatedLayout"),L=J("loading");return w(),C(Q,null,[e(b,{title:"Banks"}),e(A,null,{default:o(()=>[r("div",Y,[c[2]||(c[2]=r("h4",{class:"text-lg font-bold mb-3 ml-1"},"Banks",-1)),r("div",Z,[r("div",$,[r("div",ee,[e(m,{type:"primary",onClick:i.addNew},{default:o(()=>[e(d,null,{default:o(()=>[e(g)]),_:1}),c[1]||(c[1]=r("span",null,"New",-1))]),_:1},8,["onClick"])]),r("div",null,[e(l,{modelValue:t.param.search,"onUpdate:modelValue":c[0]||(c[0]=n=>t.param.search=n),style:{width:"200px"},placeholder:"Search Banks"},null,8,["modelValue"]),e(m,{type:"danger",onClick:i.reset,class:"ml-3"},{default:o(()=>[e(d,null,{default:o(()=>[e(s)]),_:1})]),_:1},8,["onClick"])])]),W((w(),C("div",te,[e(z,{data:f.banks.data,"table-layout":"fixed"},{default:o(()=>[e(p,{label:"Image"},{default:o(n=>[n.row.image!=""?(w(),C("img",{key:0,src:n.row.image,class:"h-10 object-cover rounded-md",alt:n.row.name},null,8,oe)):q("",!0)]),_:1}),e(p,{label:"Acc Name",sortable:""},{default:o(n=>[r("h5",ae,K(n.row.acc_name),1)]),_:1}),e(p,{prop:"acc_no",label:"Acc No."}),e(p,{prop:"type",label:"Type"}),e(p,{label:"Available",align:"center"},{default:o(n=>[e(x,{modelValue:n.row.disabled,"onUpdate:modelValue":h=>n.row.disabled=h,"active-value":0,"inactive-value":1,onChange:h=>i.changeStatus(n.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(p,{label:"Actions"},{default:o(n=>[e(D,{class:"box-item",content:"Edit",placement:"top"},{default:o(()=>[e(m,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:h=>i.handleEdit(n.row)},{default:o(()=>[e(d,null,{default:o(()=>[e(S)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(D,{class:"box-item",content:"Delete",placement:"top"},{default:o(()=>[e(m,{type:"danger",circle:"",style:{"margin-bottom":"5px"},onClick:h=>i.handleDelete(n.row.id)},{default:o(()=>[e(d,null,{default:o(()=>[e(E)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),r("div",ne,[e(B,{onSizeChange:i.onSizeChange,onCurrentChange:i.onCurrentChange,"page-size":t.param.page_size,background:!0,"page-sizes":t.pageList,"current-page":t.param.page,layout:"total,sizes,prev,pager,next,jumper",total:f.banks.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[L,t.isLoading]])])]),e(V,{show:t.showDialog,onClosed:i.closeDialog,title:t.dialog.dialogTitle,data:t.dialog.dialogData},null,8,["show","onClosed","title","data"])]),_:1})],64)}const Xe=F(X,[["render",le]]);export{Xe as default};
