import{A as B}from"./AuthenticatedLayout-hpqXZqx5.js";import{G as h}from"./@inertiajs-CbvId4g_.js";import{d as A}from"./lodash.debounce-D6Lq3Ox3.js";import O from"./Dialog-C_Tj5WCG.js";import R from"./ChangePassword-qa1dbSTj.js";import{B as J,Q as j,R as F,S as M,U,P as G,V as H}from"./@element-plus-CUvu2PoV.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as Q,a as C}from"./element-plus-DlSipXdM.js";import{e as W,w as q,ag as K,ai as t,ar as X,c as y,V as o,O as a,U as Y,o as v,a as s,P as Z,S as $,T as ee}from"./@vue-Sbvg1l4F.js";import"./darkmode-D_2icXa1.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-DKV3VX6p.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./InputError-DvMyPukD.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-CCMSPfaE.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-CFmTUPeq.js";const oe={props:["staffs","roles"],components:{AuthenticatedLayout:B,Dialog:O,Plus:J,Edit:j,Refresh:F,Filter:M,Checked:U,Delete:G,Lock:H,ChangePassword:R},setup(){const e=W({showDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""},showChangePassword:!1}),i=n=>{e.param.page_size=n,m()},p=n=>{e.param.page=n,m()},l=()=>{e.dialog.dialogTitle="Create",e.dialog.dialogData={},e.showDialog=!0},w=n=>{e.showChangePassword=!0,e.dialog.dialogTitle="Change Password",e.dialog.dialogData=JSON.parse(JSON.stringify(n))},b=n=>{e.dialog.dialogTitle="Edit",e.dialog.dialogData=JSON.parse(JSON.stringify(n)),e.showDialog=!0},f=n=>{Q.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{h.delete(route("admin.staffs.destroy",n),{onSuccess:g=>{C.success(g.props.flash.success)},onError:g=>{C.error(g.error)}})}).catch(()=>{C({type:"info",message:"Cancel"})})};q(()=>e.param.search,A(()=>{m()},500));const m=()=>{e.isLoading=!0,h.get("/admin/staffs",e.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{e.isLoading=!1}})},d=()=>{e.showDialog=!1,e.showChangePassword=!1},c=()=>{h.get(route("admin.staffs.index"))};return{...K(e),addNew:l,handleEdit:b,handleDelete:f,onSizeChange:i,onCurrentChange:p,closeDialog:d,reset:c,handleChangePassword:w}}},te={class:"p-4 container mx-auto overflow-x-auto"},ae={class:"p-4 rounded shadow-sm border index-content"},le={class:"flex items-center justify-between gap-4 xl:gap-0 mt-2 mb-5"},ne={class:"flex items-center gap-3"},se={"element-loading-text":"Loading..."},ie={class:"font-semibold flex items-center gap-2"},re={class:"my-5 flex items-center justify-center"};function de(e,i,p,l,w,b){const f=t("Head"),m=t("Plus"),d=t("el-icon"),c=t("el-button"),n=t("el-input"),g=t("Refresh"),k=t("el-avatar"),u=t("el-table-column"),S=t("Lock"),_=t("el-tooltip"),x=t("Edit"),P=t("Delete"),z=t("el-table"),E=t("el-pagination"),L=t("Dialog"),N=t("ChangePassword"),T=t("AuthenticatedLayout"),V=X("loading");return v(),y(Y,null,[o(f,{title:"Staffs"}),o(T,null,{default:a(()=>[s("div",te,[i[2]||(i[2]=s("h4",{class:"text-lg font-bold mb-3 ml-1"},"Staffs",-1)),s("div",ae,[s("div",le,[s("div",ne,[o(c,{type:"primary",onClick:l.addNew},{default:a(()=>[o(d,null,{default:a(()=>[o(m)]),_:1}),i[1]||(i[1]=s("span",null,"New",-1))]),_:1},8,["onClick"])]),s("div",null,[o(n,{modelValue:e.param.search,"onUpdate:modelValue":i[0]||(i[0]=r=>e.param.search=r),style:{width:"200px"},placeholder:"Search Staffs"},null,8,["modelValue"]),o(c,{type:"danger",onClick:l.reset,class:"ml-3"},{default:a(()=>[o(d,null,{default:a(()=>[o(g)]),_:1})]),_:1},8,["onClick"])])]),Z((v(),y("div",se,[o(z,{data:p.staffs.data,"table-layout":"fixed","default-sort":{prop:"id",order:"descending"}},{default:a(()=>[o(u,{label:"Name",sortable:""},{default:a(r=>[s("h5",ie,[o(k,{src:r.row.profile,size:30},null,8,["src"]),$(" "+ee(r.row.name),1)])]),_:1}),o(u,{prop:"email",label:"Email"}),o(u,{prop:"role",label:"Role"}),o(u,{prop:"phone",label:"Phone"}),o(u,{label:"Actions"},{default:a(r=>[o(_,{class:"box-item",content:"Change Password",placement:"top"},{default:a(()=>[o(c,{circle:"",style:{"margin-bottom":"5px"},onClick:D=>l.handleChangePassword(r.row)},{default:a(()=>[o(d,null,{default:a(()=>[o(S)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),o(_,{class:"box-item",content:"Edit",placement:"top"},{default:a(()=>[o(c,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:D=>l.handleEdit(r.row)},{default:a(()=>[o(d,null,{default:a(()=>[o(x)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),o(_,{class:"box-item",content:"Delete",placement:"top"},{default:a(()=>[o(c,{type:"danger",circle:"",style:{"margin-bottom":"5px"},onClick:D=>l.handleDelete(r.row.id)},{default:a(()=>[o(d,null,{default:a(()=>[o(P)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),s("div",re,[o(E,{onSizeChange:l.onSizeChange,onCurrentChange:l.onCurrentChange,"page-size":e.param.page_size,background:!0,"page-sizes":e.pageList,"current-page":e.param.page,layout:"total,sizes,prev,pager,next,jumper",total:p.staffs.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[V,e.isLoading]])])]),o(L,{show:e.showDialog,onClosed:l.closeDialog,title:e.dialog.dialogTitle,data:e.dialog.dialogData,roles:p.roles},null,8,["show","onClosed","title","data","roles"]),o(N,{show:e.showChangePassword,onClosed:l.closeDialog,title:e.dialog.dialogTitle,data:e.dialog.dialogData},null,8,["show","onClosed","title","data"])]),_:1})],64)}const oo=I(oe,[["render",de]]);export{oo as default};
