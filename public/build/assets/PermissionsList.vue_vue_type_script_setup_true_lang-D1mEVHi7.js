import{d as U,r as o,ai as k,o as i,c as f,V as g,O as m,S as C,T as V,U as w,a7 as S,M as B,I as L}from"./@vue-Sbvg1l4F.js";const O={class:"mb-5"},j=U({__name:"PermissionsList",props:{role:{type:Object,required:!0},permis:{type:Object,required:!0},type:{type:String,required:!0},selected:{type:Array,required:!0}},emits:["on-checked","on-checked-all"],setup(_,{emit:y}){const l=_,h=y,u=o(!1),r=o(!1),s=o(l.selected.length?l.selected:[]),b=x(),c=o(b),p=o(l.role.id?l.role.id:"create");function x(){return l.selected.length>0?new Array(l.selected.length).fill(!0):new Array(l.permis.length).fill(!1)}const q=e=>{const a=l.permis.map(n=>n.id);s.value=e?a:[],r.value=!1,e==!0?c.value=c.value.map((n,d)=>!0):c.value=c.value.map((n,d)=>!1),h("on-checked-all",[a,e])},A=e=>{document.querySelector(".checked-value-"+p.value+e).classList.contains("is-checked")?(s.value.filter(n=>n==e),c.value[e]=!0):(s.value.filter(n=>n!=e),c.value[e]=!1),h("on-checked",[e,c.value[e]])},I=e=>{const a=e.length;u.value=a===l.permis.length,r.value=a>0&&a<l.permis.length};return(e,a)=>{const n=k("el-checkbox"),d=k("el-checkbox-group");return i(),f("div",O,[g(n,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),indeterminate:r.value,onChange:q,label:l.type,class:"capitalize"},{default:m(()=>[C(V(l.type),1)]),_:1},8,["modelValue","indeterminate","label"]),g(d,{class:"flex flex-wrap",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value=t),onChange:I},{default:m(()=>[(i(!0),f(w,null,S(l.permis,t=>(i(),B(n,{key:t.id,label:t.slug,value:t.id,onChange:v=>A(t.id),modelValue:c.value[t.id],"onUpdate:modelValue":v=>c.value[t.id]=v,class:L("checked-value-"+p.value.value+t.id)},{default:m(()=>[C(V(t.name),1)]),_:2},1032,["label","value","onChange","modelValue","onUpdate:modelValue","class"]))),128))]),_:1},8,["modelValue"])])}}});export{j as _};
