import{A}from"./AuthenticatedLayout-hpqXZqx5.js";import{G as _}from"./@inertiajs-CbvId4g_.js";import{d as D}from"./lodash.debounce-D6Lq3Ox3.js";import{R as E,S as M,y as N,v as j}from"./@element-plus-CUvu2PoV.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as F,a as w}from"./element-plus-DlSipXdM.js";import{e as P,w as G,ag as H,ai as r,ar as I,c as g,V as e,O as o,U as O,o as c,a as l,P as U,R as J,T as y,S as W,M as q}from"./@vue-Sbvg1l4F.js";import"./darkmode-D_2icXa1.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-DKV3VX6p.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-CCMSPfaE.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-CFmTUPeq.js";const K={props:["customers"],components:{AuthenticatedLayout:A,Refresh:E,Filter:M,RefreshRight:N,View:j},setup(){const a=P({isLoading:!1,pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),s=n=>{a.param.page_size=n,u()},d=n=>{a.param.page=n,u()},m=n=>{_.visit(route("admin.customers.show",n))},C=n=>{F.confirm("Are you sure?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{_.patch(route("admin.customers.banned",n),{},{onSuccess:p=>{w.success(p.props.flash.success)},onError:p=>{w.error(p.props.flash.error)}})}).catch(()=>{w({type:"info",message:"Cancel"})})};G(()=>a.param.search,D(()=>{u()},500));const u=()=>{a.isLoading=!0,_.get("/admin/customers",a.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{a.isLoading=!1}})},f=()=>{_.get(route("admin.customers.index"))};return{...H(a),handleView:m,handleBan:C,onSizeChange:s,onCurrentChange:d,reset:f}}},Q={class:"p-4 container mx-auto overflow-x-auto"},X={class:"p-4 rounded shadow-sm border index-content"},Y={class:"flex items-center justify-end gap-4 xl:gap-0 mt-2 mb-5"},Z={"element-loading-text":"Loading..."},$=["src","alt"],ee={class:"font-semibold"},te={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},oe={class:"my-5 flex items-center justify-center"};function ae(a,s,d,m,C,u){const f=r("Head"),n=r("el-input"),p=r("Refresh"),h=r("el-icon"),b=r("el-button"),i=r("el-table-column"),x=r("el-tag"),k=r("View"),v=r("el-tooltip"),V=r("RefreshRight"),z=r("el-table"),B=r("el-pagination"),L=r("AuthenticatedLayout"),R=I("loading");return c(),g(O,null,[e(f,{title:"Customers"}),e(L,null,{default:o(()=>[l("div",Q,[s[2]||(s[2]=l("h4",{class:"text-lg font-bold mb-3 ml-1"},"Customers",-1)),l("div",X,[l("div",Y,[l("div",null,[e(n,{modelValue:a.param.search,"onUpdate:modelValue":s[0]||(s[0]=t=>a.param.search=t),style:{width:"200px"},placeholder:"Search Customers"},null,8,["modelValue"]),e(b,{type:"danger",onClick:m.reset,class:"ml-3"},{default:o(()=>[e(h,null,{default:o(()=>[e(p)]),_:1})]),_:1},8,["onClick"])])]),U((c(),g("div",Z,[e(z,{data:d.customers.data,"table-layout":"fixed","default-sort":{prop:"id",order:"descending"}},{default:o(()=>[e(i,{prop:"id",label:"ID",sortable:""}),e(i,{label:"Profile"},{default:o(t=>[t.row.profile?(c(),g("img",{key:0,src:t.row.profile,class:"h-10 object-cover rounded-md",alt:t.row.name},null,8,$)):J("",!0)]),_:1}),e(i,{label:"Name",sortable:""},{default:o(t=>[l("h5",ee,y(t.row.name),1)]),_:1}),e(i,{prop:"email",label:"Email"}),e(i,{prop:"phone",label:"Phone"}),e(i,{label:"Status"},{default:o(t=>[e(x,{plain:"",type:t.row.disabled==!1?"success":"danger"},{default:o(()=>[W(y(t.row.disabled?"Banned":"Active"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"created_at",label:"Joined At"}),e(i,{label:"Actions"},{default:o(t=>[e(v,{class:"box-item",content:"Detail",placement:"top"},{default:o(()=>[e(b,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:S=>m.handleView(t.row.id)},{default:o(()=>[e(h,null,{default:o(()=>[e(k)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(v,{class:"box-item",content:"Ban this user",placement:"top"},{default:o(()=>[e(b,{type:t.row.disabled==!0?"success":"danger",circle:"",style:{"margin-bottom":"5px"},onClick:S=>m.handleBan(t.row.id)},{default:o(()=>[t.row.disabled==!0?(c(),q(h,{key:0},{default:o(()=>[e(V)]),_:1})):(c(),g("svg",te,s[1]||(s[1]=[l("path",{fill:"currentColor",d:"M12 3a9 9 0 1 0 9 9a9 9 0 0 0-9-9m-7.5 9a7.44 7.44 0 0 1 1.7-4.74L16.74 17.8A7.49 7.49 0 0 1 4.5 12m13.3 4.74L7.26 6.2A7.49 7.49 0 0 1 17.8 16.74"},null,-1)])))]),_:2},1032,["type","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),l("div",oe,[e(B,{onSizeChange:m.onSizeChange,onCurrentChange:m.onCurrentChange,"page-size":a.param.page_size,background:!0,"page-sizes":a.pageList,"current-page":a.param.page,layout:"total,sizes,prev,pager,next,jumper",total:d.customers.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[R,a.isLoading]])])])]),_:1})],64)}const We=T(K,[["render",ae]]);export{We as default};
