import{A as R}from"./AuthenticatedLayout-BnOYfUtd.js";import{G as f}from"./@inertiajs-BHNbm3Fi.js";import{d as M}from"./lodash.debounce-D6Lq3Ox3.js";import O from"./Dialog-BEX78aAK.js";import{B as P,Q as j,R as U,S as F,P as G}from"./@element-plus-7OHurGuN.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as k,a as u}from"./element-plus-LrVxQH71.js";import{e as J,w as Q,ag as W,ai as n,ar as q,c as b,U as e,M as a,T as K,o as y,a as s,O as X,Q as Y,S as h,R as E}from"./@vue-DjPJmJBm.js";import"./darkmode-BEaTfPzm.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-D133QDgo.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./InputError-DuIKKUKn.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-DfGEukKn.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-DHxWKL-w.js";const Z={props:["items","currencies"],components:{AuthenticatedLayout:R,Dialog:O,Plus:P,Edit:j,Refresh:U,Filter:F,Delete:G},setup(){const t=J({showDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),c=l=>{t.param.page_size=l,_()},g=l=>{t.param.page=l,_()},r=()=>{t.dialog.dialogTitle="Create",t.dialog.dialogData={},t.showDialog=!0},v=l=>{t.dialog.dialogTitle="Edit",t.dialog.dialogData=JSON.parse(JSON.stringify(l)),t.showDialog=!0},D=l=>{k.confirm("Are you sure want to change status of this item?","Confirmation",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{f.patch(route("admin.items.change-status",l.id),{},{preserveState:!0,onSuccess:i=>{u.success(i.props.flash.success)},onError:i=>{u.error(i.props.flash.error)}})}).catch(()=>{f.reload(),u({type:"info",message:"Cancel"})})},C=l=>{k.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{f.delete(route("admin.items.destroy",l),{onSuccess:i=>{u.success(i.props.flash.success)},onError:i=>{u.error(i.props.flash.error)}})}).catch(()=>{u({type:"info",message:"Cancel"})})};Q(()=>t.param.search,M(()=>{_()},500));const _=()=>{t.isLoading=!0,f.get("/admin/items",t.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{t.isLoading=!1}})},m=()=>{t.showDialog=!1},p=()=>{f.get(route("admin.items.index"))};return{...W(t),addNew:r,handleEdit:v,handleDelete:C,onSizeChange:c,onCurrentChange:g,closeDialog:m,reset:p,changeStatus:D}}},$={class:"p-4 container mx-auto overflow-x-auto"},ee={class:"p-4 rounded shadow-sm border index-content"},te={class:"flex items-center justify-between gap-4 xl:gap-0 mt-2 mb-5"},oe={class:"flex items-center gap-3"},ae={"element-loading-text":"Loading..."},ne=["src","alt"],le={class:"font-semibold"},re={class:"my-5 flex items-center justify-center"};function ie(t,c,g,r,v,D){const C=n("Head"),_=n("Plus"),m=n("el-icon"),p=n("el-button"),l=n("el-input"),i=n("Refresh"),d=n("el-table-column"),x=n("el-tag"),z=n("el-switch"),V=n("Edit"),S=n("el-tooltip"),L=n("Delete"),N=n("el-table"),T=n("el-pagination"),A=n("Dialog"),B=n("AuthenticatedLayout"),I=q("loading");return y(),b(K,null,[e(C,{title:"Items"}),e(B,null,{default:a(()=>[s("div",$,[c[2]||(c[2]=s("h4",{class:"text-lg font-bold mb-3 ml-1"},"Items",-1)),s("div",ee,[s("div",te,[s("div",oe,[e(p,{type:"primary",onClick:r.addNew},{default:a(()=>[e(m,null,{default:a(()=>[e(_)]),_:1}),c[1]||(c[1]=s("span",null,"New",-1))]),_:1},8,["onClick"])]),s("div",null,[e(l,{modelValue:t.param.search,"onUpdate:modelValue":c[0]||(c[0]=o=>t.param.search=o),style:{width:"200px"},placeholder:"Search Items"},null,8,["modelValue"]),e(p,{type:"danger",onClick:r.reset,class:"ml-3"},{default:a(()=>[e(m,null,{default:a(()=>[e(i)]),_:1})]),_:1},8,["onClick"])])]),X((y(),b("div",ae,[e(N,{data:g.items.data,"table-layout":"fixed","default-sort":{prop:"id",order:"descending"}},{default:a(()=>[e(d,{prop:"id",label:"ID",sortable:""}),e(d,{label:"Image"},{default:a(o=>[o.row.image!=""?(y(),b("img",{key:0,src:o.row.image,class:"h-10 object-cover rounded-md",alt:o.row.name},null,8,ne)):Y("",!0)]),_:1}),e(d,{label:"Name",sortable:""},{default:a(o=>[s("h5",le,h(o.row.name),1)]),_:1}),e(d,{label:"Price",sortable:"",align:"center"},{default:a(o=>[e(x,{type:"primary",class:"mr-1"},{default:a(()=>[E(h(o.row.price)+" "+h(o.row.currency),1)]),_:2},1024),e(x,{type:"danger"},{default:a(()=>[E(h(o.row.th_price)+" "+h(o.row.th_currency),1)]),_:2},1024)]),_:1}),e(d,{prop:"created_at",label:"Created At",sortable:"",align:"center"}),e(d,{label:"Available",align:"center"},{default:a(o=>[e(z,{modelValue:o.row.disabled,"onUpdate:modelValue":w=>o.row.disabled=w,"active-value":0,"inactive-value":1,onChange:w=>r.changeStatus(o.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(d,{label:"Actions"},{default:a(o=>[e(S,{class:"box-item",content:"Edit",placement:"top"},{default:a(()=>[e(p,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:w=>r.handleEdit(o.row)},{default:a(()=>[e(m,null,{default:a(()=>[e(V)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(S,{class:"box-item",content:"Delete",placement:"top"},{default:a(()=>[e(p,{type:"danger",circle:"",style:{"margin-bottom":"5px"},onClick:w=>r.handleDelete(o.row.id)},{default:a(()=>[e(m,null,{default:a(()=>[e(L)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),s("div",re,[e(T,{onSizeChange:r.onSizeChange,onCurrentChange:r.onCurrentChange,"page-size":t.param.page_size,background:!0,"page-sizes":t.pageList,"current-page":t.param.page,layout:"total,sizes,prev,pager,next,jumper",total:g.items.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[I,t.isLoading]])])]),e(A,{show:t.showDialog,onClosed:r.closeDialog,title:t.dialog.dialogTitle,data:t.dialog.dialogData,currencies:g.currencies},null,8,["show","onClosed","title","data","currencies"])]),_:1})],64)}const Ze=H(Z,[["render",ie]]);export{Ze as default};
