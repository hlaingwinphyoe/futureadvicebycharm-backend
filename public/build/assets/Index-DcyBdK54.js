import{A as B}from"./AuthenticatedLayout-hpqXZqx5.js";import{C,G as I}from"./@inertiajs-CbvId4g_.js";import{e as U,r as L,ag as P,ai as n,c as V,V as s,O as a,U as S,n as R,o as f,a as i,I as k,S as x,a7 as F,a8 as A,M as E,T as N}from"./@vue-Sbvg1l4F.js";import{_ as O}from"./InputError-DvMyPukD.js";import{B as T}from"./@element-plus-CUvu2PoV.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as _,E as M}from"./element-plus-DlSipXdM.js";import"./darkmode-D_2icXa1.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-DKV3VX6p.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-CCMSPfaE.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-CFmTUPeq.js";const j={props:["system_info"],components:{AuthenticatedLayout:B,InputError:O,Plus:T},setup(l){const o=U({inputVisible:!1,imgSrc:"",virtualForm:new FormData}),g=L(),e=C({name:l.system_info.name,email:l.system_info.email,address:l.system_info.address}),c=C({phone:""}),w=()=>{e.patch(route("admin.system-infos.update",{onSuccess:r=>{e.clearErrors(),_.success(r.props.flash.success)}}))},h=()=>{c.patch(route("admin.system-infos.addPhone",l.system_info.id),{onSuccess:r=>{u(),_.success(r.props.flash.success)}})},d=r=>{M.confirm("Are you sure want to delete?","Confirmation",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{I.delete(route("admin.system-infos.deletePhone",{info:l.system_info.id,phone:r}),{},{preserveState:!0,onSuccess:m=>{_.success(m.props.flash.success)},onError:m=>{_.error(m.props.flash.error)}})}).catch(()=>{I.reload(),_({type:"info",message:"Cancel"})})},p=()=>{o.inputVisible=!0,R(()=>{g.value.focus()})},u=()=>{e.reset(),e.clearErrors(),c.reset(),c.clearErrors(),o.inputVisible=!1},y=()=>{var r=document.getElementById("upload");r.click()},v=r=>{var m=r.target,t=m.files[0];o.imgSrc=URL.createObjectURL(t),o.virtualForm.append("image",t);var b=document.getElementById("preview_img");b.src=URL.createObjectURL(t),b.onload=function(){URL.revokeObjectURL(b.src)}};return{...P(o),InputRef:g,showInput:p,form:e,phoneForm:c,systemInfoSubmit:w,systemPhoneSubmit:h,handlePhoneDelete:d,selectImage:y,loadFile:v}}},K={class:"p-4 container mx-auto overflow-x-auto"},q={class:"grid lg:grid-cols-2 gap-4"},z={class:"p-4 rounded shadow-sm border index-content"},G={class:"p-4 rounded shadow-sm border index-content"},H={class:"flex flex-wrap gap-2"},Z={key:0};function J(l,o,g,e,c,w){const h=n("Head"),d=n("el-input"),p=n("InputError"),u=n("el-form-item"),y=n("el-button"),v=n("el-form"),r=n("el-tag"),m=n("AuthenticatedLayout");return f(),V(S,null,[s(h,{title:"Zodiacs"}),s(m,null,{default:a(()=>[i("div",K,[o[7]||(o[7]=i("h4",{class:"text-lg font-bold mb-3 ml-1"},"System Information",-1)),i("div",q,[i("div",z,[s(v,{"label-width":"120px",ref:"formRef",model:e.form,"label-position":"top"},{default:a(()=>[s(u,{label:"Name",prop:"name",rules:[{required:!0,message:"Name is required",trigger:"blur"}]},{default:a(()=>[s(d,{modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.name=t)},null,8,["modelValue"]),s(p,{class:"mt-2",message:e.form.errors.name},null,8,["message"])]),_:1}),s(u,{label:"Email",prop:"email"},{default:a(()=>[s(d,{modelValue:e.form.email,"onUpdate:modelValue":o[1]||(o[1]=t=>e.form.email=t),type:"email"},null,8,["modelValue"]),s(p,{class:"mt-2",message:e.form.errors.email},null,8,["message"])]),_:1}),s(u,{label:"Address",prop:"address"},{default:a(()=>[s(d,{modelValue:e.form.address,"onUpdate:modelValue":o[2]||(o[2]=t=>e.form.address=t),type:"textarea"},null,8,["modelValue"]),s(p,{class:"mt-2",message:e.form.errors.address},null,8,["message"])]),_:1}),s(y,{type:"primary",onClick:e.systemInfoSubmit,class:k({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:a(()=>o[4]||(o[4]=[x("Save")])),_:1},8,["onClick","class","disabled"])]),_:1},8,["model"])]),i("div",G,[o[6]||(o[6]=i("h4",{class:"mb-4"},"Phone",-1)),i("div",H,[(f(!0),V(S,null,F(g.system_info.phones,t=>(f(),E(r,{key:t,closable:"","disable-transitions":!1,size:"large",onClose:b=>e.handlePhoneDelete(t.id)},{default:a(()=>[x(N(t.phone),1)]),_:2},1032,["onClose"]))),128)),l.inputVisible?(f(),V("div",Z,[s(d,{ref:"InputRef",modelValue:e.phoneForm.phone,"onUpdate:modelValue":o[3]||(o[3]=t=>e.phoneForm.phone=t),style:{width:"10rem"},onKeyup:A(e.systemPhoneSubmit,["enter"]),onBlur:e.systemPhoneSubmit},null,8,["modelValue","onKeyup","onBlur"]),s(p,{class:"mt-2",message:e.phoneForm.errors.phone},null,8,["message"])])):(f(),E(y,{key:1,onClick:e.showInput,class:k({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:a(()=>o[5]||(o[5]=[x(" + New Phone ")])),_:1},8,["onClick","class","disabled"]))])])])])]),_:1})],64)}const Oe=D(j,[["render",J]]);export{Oe as default};
