import{A as R}from"./AuthenticatedLayout-CTgtq4tI.js";import{G as _}from"./@inertiajs-BHNbm3Fi.js";import{d as T}from"./lodash.debounce-D6Lq3Ox3.js";import B from"./Dialog-CYB2-T6N.js";import{B as A,Q as V,R as P,S as M,T as O,P as j}from"./@element-plus-DCRyTRz-.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as G,a as f}from"./element-plus-Cut5Ar7I.js";import{e as H,w as I,ag as J,ai as o,ar as U,c as b,U as t,M as a,T as Q,o as w,a as s,O as W,S as y,R as q}from"./@vue-DjPJmJBm.js";import"./darkmode-BEaTfPzm.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-D133QDgo.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./InputError-DuIKKUKn.js";import"./PermissionsList.vue_vue_type_script_setup_true_lang-O_JKYoL3.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-DfGEukKn.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-DHxWKL-w.js";const K={props:["roles","permissions"],components:{AuthenticatedLayout:R,Dialog:B,Plus:A,Edit:V,Refresh:P,Filter:M,Checked:O,Delete:j},setup(){const e=H({showDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),i=l=>{e.param.page_size=l,d()},p=l=>{e.param.page=l,d()},n=()=>{e.dialog.dialogTitle="Create",e.dialog.dialogData={},e.showDialog=!0},h=l=>{e.dialog.dialogTitle="Edit",e.dialog.dialogData=JSON.parse(JSON.stringify(l)),e.showDialog=!0},C=l=>{G.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{_.delete(route("admin.roles.destroy",l),{preserveScroll:!0,preserveState:!0,onSuccess:c=>{f.success(c.props.flash.success)},onError:c=>{f.error(c.error)}})}).catch(()=>{f({type:"info",message:"Cancel"})})};I(()=>e.param.search,T(()=>{d()},500));const d=()=>{e.isLoading=!0,_.get("/admin/roles",e.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{e.isLoading=!1}})},g=()=>{e.showDialog=!1},m=()=>{_.get(route("admin.roles.index"))};return{...J(e),addNew:n,handleEdit:h,handleDelete:C,onSizeChange:i,onCurrentChange:p,closeDialog:g,reset:m}}},X={class:"p-4 container mx-auto overflow-x-auto"},Y={class:"p-4 rounded shadow-sm border index-content"},Z={class:"flex items-center justify-between gap-4 xl:gap-0 mt-2 mb-5"},$={class:"flex items-center gap-3"},ee={"element-loading-text":"Loading..."},te={class:"font-semibold"},oe={class:"my-5 flex items-center justify-center"};function ae(e,i,p,n,h,C){const d=o("Head"),g=o("Plus"),m=o("el-icon"),l=o("el-button"),c=o("el-input"),D=o("Refresh"),u=o("el-table-column"),v=o("el-tag"),S=o("Edit"),x=o("el-tooltip"),z=o("el-table"),k=o("el-pagination"),E=o("Dialog"),L=o("AuthenticatedLayout"),N=U("loading");return w(),b(Q,null,[t(d,{title:"Roles"}),t(L,null,{default:a(()=>[s("div",X,[i[2]||(i[2]=s("h4",{class:"text-lg font-bold mb-3 ml-1"},"Roles",-1)),s("div",Y,[s("div",Z,[s("div",$,[t(l,{type:"primary",onClick:n.addNew},{default:a(()=>[t(m,null,{default:a(()=>[t(g)]),_:1}),i[1]||(i[1]=s("span",null,"New",-1))]),_:1},8,["onClick"])]),s("div",null,[t(c,{modelValue:e.param.search,"onUpdate:modelValue":i[0]||(i[0]=r=>e.param.search=r),style:{width:"200px"},placeholder:"Search Roles"},null,8,["modelValue"]),t(l,{type:"danger",onClick:n.reset,class:"ml-3"},{default:a(()=>[t(m,null,{default:a(()=>[t(D)]),_:1})]),_:1},8,["onClick"])])]),W((w(),b("div",ee,[t(z,{data:p.roles.data,"table-layout":"auto","default-sort":{prop:"id",order:"descending"}},{default:a(()=>[t(u,{prop:"id",label:"ID",sortable:""}),t(u,{label:"Name",sortable:""},{default:a(r=>[s("h5",te,y(r.row.name),1)]),_:1}),t(u,{label:"Permissions"},{default:a(r=>[t(v,{size:"small"},{default:a(()=>[q(y(r.row.permissions),1)]),_:2},1024)]),_:1}),t(u,{label:"Actions"},{default:a(r=>[t(x,{class:"box-item",content:"Edit",placement:"top"},{default:a(()=>[t(l,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:le=>n.handleEdit(r.row)},{default:a(()=>[t(m,null,{default:a(()=>[t(S)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),s("div",oe,[t(k,{onSizeChange:n.onSizeChange,onCurrentChange:n.onCurrentChange,"page-size":e.param.page_size,background:!0,"page-sizes":e.pageList,"current-page":e.param.page,layout:"total,sizes,prev,pager,next,jumper",total:p.roles.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[N,e.isLoading]])])]),t(E,{show:e.showDialog,onClosed:n.closeDialog,title:e.dialog.dialogTitle,data:e.dialog.dialogData,permissions:p.permissions},null,8,["show","onClosed","title","data","permissions"])]),_:1})],64)}const Xe=F(K,[["render",ae]]);export{Xe as default};
