import{A as T}from"./AuthenticatedLayout-hpqXZqx5.js";import{G as u}from"./@inertiajs-CbvId4g_.js";import{d as E}from"./lodash.debounce-D6Lq3Ox3.js";import{B as N,Q as R,R as P,S as j,P as F,v as M}from"./@element-plus-CUvu2PoV.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as H,a as h}from"./element-plus-DlSipXdM.js";import{e as I,w as O,ag as U,ai as a,ar as K,c as C,V as e,O as o,U as Q,o as y,a as m,P as W,S as v,T as x}from"./@vue-Sbvg1l4F.js";import"./darkmode-D_2icXa1.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-DKV3VX6p.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-CCMSPfaE.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-CFmTUPeq.js";const q={props:["appointments"],components:{AuthenticatedLayout:T,Plus:N,Edit:R,Refresh:P,Filter:j,Delete:F,View:M},setup(){const t=I({showDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),p=n=>{t.param.page_size=n,d()},c=n=>{t.param.page=n,d()},r=n=>{u.visit(route("admin.appointments.show",n))},b=()=>{t.dialog.dialogTitle="Create",t.dialog.dialogData={},t.showDialog=!0};O(()=>t.param.search,E(()=>{d()},500));const d=()=>{t.isLoading=!0,u.get("/admin/appointments",t.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{t.isLoading=!1}})},_=()=>{t.showDialog=!1},g=()=>{u.get(route("admin.appointments.index"))},f=n=>{H.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{u.delete(route("admin.appointments.destroy",n),{onSuccess:s=>{h.success(s.props.flash.success)},onError:s=>{h.error(s.props.flash.error)}})}).catch(()=>{h({type:"info",message:"Cancel"})})};return{...U(t),addNew:b,handleView:r,onSizeChange:p,onCurrentChange:c,closeDialog:_,reset:g,handleDelete:f}}},J={class:"p-4 container mx-auto overflow-x-auto"},X={class:"p-4 rounded shadow-sm border index-content"},Y={class:"flex items-center justify-end gap-4 xl:gap-0 mt-2 mb-5"},Z={"element-loading-text":"Loading..."},$={class:"my-5 flex items-center justify-center"};function ee(t,p,c,r,b,d){const _=a("Head"),g=a("el-input"),f=a("Refresh"),n=a("el-icon"),s=a("el-button"),i=a("el-table-column"),D=a("el-tag"),k=a("View"),w=a("el-tooltip"),z=a("Delete"),S=a("el-table"),V=a("el-pagination"),A=a("AuthenticatedLayout"),L=K("loading");return y(),C(Q,null,[e(_,{title:"Today Appointments"}),e(A,null,{default:o(()=>[m("div",J,[p[1]||(p[1]=m("h4",{class:"text-lg font-bold mb-3 ml-1"},"Today Appointments",-1)),m("div",X,[m("div",Y,[m("div",null,[e(g,{modelValue:t.param.search,"onUpdate:modelValue":p[0]||(p[0]=l=>t.param.search=l),style:{width:"200px"},placeholder:"Search Appointments"},null,8,["modelValue"]),e(s,{type:"danger",onClick:r.reset,class:"ml-3"},{default:o(()=>[e(n,null,{default:o(()=>[e(f)]),_:1})]),_:1},8,["onClick"])])]),W((y(),C("div",Z,[e(S,{data:c.appointments.data,"table-layout":"fixed","default-sort":{prop:"appointment_no",order:"descending"}},{default:o(()=>[e(i,{prop:"appointment_no",label:"Book No.",sortable:""}),e(i,{prop:"customer_name",label:"Cus: Name",sortable:""}),e(i,{prop:"desc",label:"Desc"}),e(i,{label:"Total Price"},{default:o(l=>[v(x(l.row.total_price)+" Ks ",1)]),_:1}),e(i,{label:"Status"},{default:o(l=>[e(D,{type:l.row.status=="Incomplete"?"danger":l.row.status=="Approved"?"success":"warning"},{default:o(()=>[v(x(l.row.status),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"created_at",label:"Booked Date",sortable:""}),e(i,{label:"Actions"},{default:o(l=>[e(w,{class:"box-item",content:"Detail",placement:"top"},{default:o(()=>[e(s,{circle:"",style:{"margin-bottom":"5px"},onClick:B=>r.handleView(l.row.id)},{default:o(()=>[e(n,null,{default:o(()=>[e(k)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(w,{class:"box-item",content:"Delete",placement:"top"},{default:o(()=>[e(s,{type:"danger",circle:"",style:{"margin-bottom":"5px"},onClick:B=>r.handleDelete(l.row.id)},{default:o(()=>[e(n,null,{default:o(()=>[e(z)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),m("div",$,[e(V,{onSizeChange:r.onSizeChange,onCurrentChange:r.onCurrentChange,"page-size":t.param.page_size,background:!0,"page-sizes":t.pageList,"current-page":t.param.page,layout:"total,sizes,prev,pager,next,jumper",total:c.appointments.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[L,t.isLoading]])])])]),_:1})],64)}const Oe=G(q,[["render",ee]]);export{Oe as default};
