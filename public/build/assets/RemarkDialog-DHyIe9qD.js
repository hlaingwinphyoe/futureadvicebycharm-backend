import{C as V,G as w}from"./@inertiajs-BHNbm3Fi.js";import{_ as y}from"./InputError-DuIKKUKn.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as f,E as x}from"./element-plus-LrVxQH71.js";import{e as C,r as B,ag as T,ai as m,L as N,M as d,o as _,a as S,c as E,a7 as h,T as I,H as R,U as a,R as b,S as F}from"./@vue-DjPJmJBm.js";import"./deepmerge-DOl302Ur.js";import"./call-bind-apply-helpers-D2lLUVvI.js";import"./function-bind-CHqF18-c.js";import"./es-errors-BzoIU2Qy.js";import"./qs-DKXisfPe.js";import"./side-channel-Ct4gtEXZ.js";import"./object-inspect-DQgcxug-.js";import"./side-channel-list-Bu_TS6Fk.js";import"./side-channel-map-AEBR1zj1.js";import"./get-intrinsic-Bxi7wI-n.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-L1VercBF.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-DDrUrENM.js";import"./dunder-proto-CAfao6an.js";import"./hasown-DwiY0sux.js";import"./call-bound-DguFMLXM.js";import"./side-channel-weakmap-8WVUVGFG.js";import"./axios-upsvKRUO.js";import"./lodash.clonedeep-jBCF3Pnn.js";import"./lodash.isequal-v2OLR2rF.js";import"./lodash-es-CFXHhIzv.js";import"./@vueuse-DfGEukKn.js";import"./@element-plus-7OHurGuN.js";import"./@popperjs-C8Ek51sF.js";import"./@ctrl-CBTFr1m8.js";import"./dayjs--ryK7Xvq.js";import"./async-validator-P8scd9xB.js";import"./memoize-one-DxrTgWdQ.js";import"./normalize-wheel-es-Cg1Do7zv.js";import"./@floating-ui-DHxWKL-w.js";const U={props:["show","title","data"],components:{InputError:y},emits:["closed"],setup(s,o){const i=C({dialogTitle:"",remarks:[]}),e=B(),l=V({name:"",is_image:0}),v=t=>{t.validate(k=>{k&&l.post(route("admin.packages.add-remarks",s.data.id),{onSuccess:r=>{l.reset(),l.clearErrors(),t.resetFields(),n(),f.success(r.props.flash.success)},onError:r=>{f.success(r.props.flash.error)}})})},p=t=>{l.reset(),l.clearErrors(),t.resetFields(),o.emit("closed")},g=()=>{i.dialogTitle=s.title,n()},n=()=>{axios.get(route("admin.packages.get-remarks",s.data.id)).then(t=>{i.remarks=t.data.remarks}).catch(t=>{console.log(t)})},c=t=>{w.delete(route("admin.packages.delete-remark",{package:s.data.id,remark:t.id}),{preserveScroll:!0,onSuccess:()=>{f.success("Remark deleted"),n()},onError:()=>{f.error("Failed to delete remark")}})},u=t=>{x.confirm("Are you sure you want to delete this remark?","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{c(t)}).catch(()=>{})};return{...T(i),formRef:e,form:l,closeDialog:p,openDialog:g,submitDialog:v,confirmDeleteRemark:u}}};function M(s,o,i,e,l,v){const p=m("el-button"),g=m("el-input"),n=m("InputError"),c=m("el-form-item"),u=m("el-switch"),t=m("el-form"),k=m("el-dialog");return _(),N(k,{modelValue:i.show,"onUpdate:modelValue":o[3]||(o[3]=r=>i.show=r),onClose:o[4]||(o[4]=r=>e.closeDialog(e.formRef)),onOpen:e.openDialog,draggable:"",title:s.dialogTitle,"close-on-click-modal":!1,width:"600"},{default:d(()=>[S("ul",{class:R([s.remarks.length>0?"mb-7":"mb-2","ml-5 list-disc space-y-2"])},[(_(!0),E(I,null,h(s.remarks,r=>(_(),E("li",{key:r.id,class:"flex items-center gap-2"},[b(F(r.name)+" ",1),a(p,{type:"danger",size:"small",onClick:q=>e.confirmDeleteRemark(r)},{default:d(()=>o[5]||(o[5]=[b(" Delete ")])),_:2},1032,["onClick"])]))),128))],2),a(t,{ref:"formRef","label-width":"100px",model:e.form,"label-position":"top",class:"flex items-center gap-5"},{default:d(()=>[a(c,{label:"Name",prop:"name",rules:[{required:!0,message:"Name is required",trigger:"blur"}]},{default:d(()=>[a(g,{modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.name=r),style:{width:"350px"},placeholder:"Enter Remark"},null,8,["modelValue"]),a(n,{class:"mt-2",message:e.form.errors.name},null,8,["message"])]),_:1}),a(c,{label:"Image Input",prop:"is_image"},{default:d(()=>[a(u,{modelValue:e.form.is_image,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.is_image=r),"active-value":1,"inactive-value":0},null,8,["modelValue"]),a(n,{class:"mt-2",message:e.form.errors.is_image},null,8,["message"])]),_:1}),a(p,{type:"primary",onClick:o[2]||(o[2]=r=>e.submitDialog(e.formRef)),class:R(["mt-2.5",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:d(()=>o[6]||(o[6]=[b(" Save ")])),_:1},8,["class","disabled"])]),_:1},8,["model"])]),_:1},8,["modelValue","onOpen","title"])}const Ve=D(U,[["render",M]]);export{Ve as default};
