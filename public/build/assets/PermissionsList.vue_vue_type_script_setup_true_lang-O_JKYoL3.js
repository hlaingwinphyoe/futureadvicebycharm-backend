import{d as w,r as o,ai as k,o as i,c as f,U as g,M as m,R as C,S as _,T as I,a7 as L,L as S,H as B}from"./@vue-DjPJmJBm.js";const P={class:"mb-5"},z=w({__name:"PermissionsList",props:{role:{type:Object,required:!0},permis:{type:Object,required:!0},type:{type:String,required:!0},selected:{type:Array,required:!0}},emits:["on-checked","on-checked-all"],setup(V,{emit:y}){const l=V,h=y,u=o(!1),r=o(!1),s=o(l.selected.length?l.selected:[]),b=x(),c=o(b),p=o(l.role.id?l.role.id:"create");function x(){return l.selected.length>0?new Array(l.selected.length).fill(!0):new Array(l.permis.length).fill(!1)}const q=e=>{const a=l.permis.map(n=>n.id);s.value=e?a:[],r.value=!1,e==!0?c.value=c.value.map((n,d)=>!0):c.value=c.value.map((n,d)=>!1),h("on-checked-all",[a,e])},A=e=>{document.querySelector(".checked-value-"+p.value+e).classList.contains("is-checked")?(s.value.filter(n=>n==e),c.value[e]=!0):(s.value.filter(n=>n!=e),c.value[e]=!1),h("on-checked",[e,c.value[e]])},U=e=>{const a=e.length;u.value=a===l.permis.length,r.value=a>0&&a<l.permis.length};return(e,a)=>{const n=k("el-checkbox"),d=k("el-checkbox-group");return i(),f("div",P,[g(n,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),indeterminate:r.value,onChange:q,label:l.type,class:"capitalize"},{default:m(()=>[C(_(l.type),1)]),_:1},8,["modelValue","indeterminate","label"]),g(d,{class:"flex flex-wrap",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value=t),onChange:U},{default:m(()=>[(i(!0),f(I,null,L(l.permis,t=>(i(),S(n,{key:t.id,label:t.slug,value:t.id,onChange:v=>A(t.id),modelValue:c.value[t.id],"onUpdate:modelValue":v=>c.value[t.id]=v,class:B("checked-value-"+p.value.value+t.id)},{default:m(()=>[C(_(t.name),1)]),_:2},1032,["label","value","onChange","modelValue","onUpdate:modelValue","class"]))),128))]),_:1},8,["modelValue"])])}}});export{z as _};
